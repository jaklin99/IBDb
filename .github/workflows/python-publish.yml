# name: CI

# on: [push]

# jobs:
#   build:
#     runs-on: windows-latest

#     steps:
#       - uses: actions/checkout@v1
#       - name: Run a one-line script
#         run: echo Hello, world!
#       - name: Run a multi-line script
#         run: |
#           echo Add other actions to build,
#           echo test, and deploy your project.
on: 
  push: 
    branches: [ dev ] 
    paths: 
    - './userservice/app/main.py' 
 
 jobs: 
  build: 
    runs-on: windows-latest 
    steps: 
    - uses: actions/checkout@v2 
    - name: Set up Python 3.10 
      uses: actions/setup-python@v2 
      with: 
        python-version: 3.10 
    - name: Install dependencies 
      run: | 
        python -m pip install --upgrade pip 
        pip install requirements.txt
        uvicorn app.main:app --reload --host 0.0.0.0 --port 8000